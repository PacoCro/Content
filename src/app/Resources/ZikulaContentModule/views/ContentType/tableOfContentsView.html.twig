{% if toc.toc|default %}
    <ul class="content-toc">
        {% for item in toc.toc if not item.pageId|default or zikulacontentmodule_hasReadAccess(item.pageId) %}
            {% if item.pageId|default and item.pageId == currentPage.id %}
                <li class="content-toc-level_{{ item.level }} content-toc-active">{% if includeSelf %}{{ item.title }}{% endif %}
            {% else %}
                <li class="content-toc-level_{{ item.level }} {{ item.css }}"><a href="{{ item.url|e('html_attr') }}">{{ item.title }}</a>
            {% endif %}
            {% if item.toc|default %}
                {{ include('@ZikulaContentModule/ContentType/tableOfContentsView.html.twig', {toc: item}) }}
            {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endif %}
